{"version":3,"sources":["webpack:///./src/views/layout/components/tabs/index.vue?4178","webpack:///./src/views/layout/components/tabs/index.vue?4678","webpack:///src/views/layout/components/tabs/index.vue","webpack:///./src/views/layout/components/tabs/index.vue?3a8e","webpack:///./src/views/layout/components/tabs/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","contextmenu_show","contextmenu","x","y","contextmenu_list","on","$event","contextMenuClick","directives","name","rawName","value","keepAlivePages","length","expression","activeCurrent","handlePageClick","handlePageRemove","nativeOn","handleContextmenu","_l","page","key","url","title","staticRenderFns","data","tag","computed","created","setKeepPage","sessionPages","setCurrentPage","sessionActive","methods","val","$router","push","closeKeepPage","event","preventDefault","stopPropagation","target","clientX","clientY","command","closeLeftKeepPage","closeRightKeepPage","closeOtherKeepPage","closeAllKeepPage","$message","error","component"],"mappings":"gHAAA,yBAAykB,EAAG,G,yCCA5kB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,iBAAiB,CAACG,MAAM,CAAC,QAAUP,EAAIQ,iBAAiB,EAAIR,EAAIS,YAAYC,EAAE,EAAIV,EAAIS,YAAYE,EAAE,YAAYX,EAAIY,kBAAkBC,GAAG,CAAC,iBAAiB,SAASC,GAAQd,EAAIQ,iBAAiBM,GAAQ,SAAWd,EAAIe,oBAAoBX,EAAG,UAAU,CAACY,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOnB,EAAIoB,eAAeC,OAAS,EAAGC,WAAW,8BAA8Bf,MAAM,CAAC,MAAQP,EAAIuB,cAAc,SAAW,GAAG,KAAO,QAAQV,GAAG,CAAC,YAAYb,EAAIwB,gBAAgB,aAAaxB,EAAIyB,kBAAkBC,SAAS,CAAC,YAAc,SAASZ,GAAQ,OAAOd,EAAI2B,kBAAkBb,MAAWd,EAAI4B,GAAI5B,EAAkB,gBAAE,SAAS6B,GAAM,OAAOzB,EAAG,cAAc,CAAC0B,IAAID,EAAKE,IAAIxB,MAAM,CAAC,MAAQsB,EAAKG,MAAM,KAAOH,EAAKE,UAAS,IAAI,IACh1BE,EAAkB,G,0DCiCtB,GACEhB,KAAM,YACNiB,KAFF,WAGI,MAAO,CACL1B,kBAAkB,EAClBC,YAAa,CACXC,EAAG,EACHC,EAAG,EACHwB,IAAK,IAEPvB,iBAAkB,CACxB,CAAQ,KAAR,eAAQ,MAAR,OAAQ,MAAR,QACA,CAAQ,KAAR,gBAAQ,MAAR,OAAQ,MAAR,SACA,CAAQ,KAAR,gBAAQ,MAAR,OAAQ,MAAR,SACA,CAAQ,KAAR,uBAAQ,MAAR,OAAQ,MAAR,UAIEwB,SAAU,OAAZ,OAAY,CAAZ,GACA,gBAAI,eAAJ,aAAI,cAAJ,aAEEC,QArBF,WAsBI,GAAmC,IAA/BpC,KAAKmB,eAAeC,OAAc,CACpC,IAAN,+BACMpB,KAAKqC,YAAYC,GAAc,GAEjC,IAAKtC,KAAKsB,cAAe,CACvB,IAAN,gCACMtB,KAAKuC,eAAeC,KAGxBC,QAAS,OAAX,OAAW,CAAX,CAEIlB,gBAFJ,SAEA,GACMvB,KAAKuC,eAAeG,EAAI1B,MACxBhB,KAAK2C,QAAQC,KAAKF,EAAI1B,OAGxBQ,iBAPJ,SAOA,GACMxB,KAAK6C,cAAcH,IAGrBhB,kBAXJ,SAWA,GACMoB,EAAMC,iBACND,EAAME,kBACNhD,KAAKQ,YAAY0B,IAAMY,EAAMG,OACnC,8BACA,SACMjD,KAAKQ,YAAYC,EAAIqC,EAAMI,QAC3BlD,KAAKQ,YAAYE,EAAIoC,EAAMK,QAC3BnD,KAAKO,kBAAmB,GAG1BO,iBAtBJ,SAsBA,GAGM,OAFAd,KAAKO,kBAAmB,EAEhB6C,EAAQlC,OACd,IAAK,OACHlB,KAAKqD,kBAAkBrD,KAAKQ,YAAY0B,KACxC,MACF,IAAK,QACHlC,KAAKsD,mBAAmBtD,KAAKQ,YAAY0B,KACzC,MACF,IAAK,QACHlC,KAAKuD,mBAAmBvD,KAAKQ,YAAY0B,KACzC,MACF,IAAK,MACHlC,KAAKwD,mBACL,MACF,QACExD,KAAKyD,SAASC,MAAM,SACpB,SAIV,uBACA,iBACA,gBACA,qBACA,oBACA,qBACA,mBACA,kBCpH4X,I,wBCQxXC,EAAY,eACd,EACA7D,EACAkC,GACA,EACA,KACA,KACA,MAIa,aAAA2B,E","file":"js/chunk-2ec44ed0.ddd827c3.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-tabs\"},[_c('wl-contextmenu',{attrs:{\"visible\":_vm.contextmenu_show,\"x\":_vm.contextmenu.x,\"y\":_vm.contextmenu.y,\"menu-list\":_vm.contextmenu_list},on:{\"update:visible\":function($event){_vm.contextmenu_show=$event},\"rowClick\":_vm.contextMenuClick}}),_c('el-tabs',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keepAlivePages.length > 0),expression:\"keepAlivePages.length > 0\"}],attrs:{\"value\":_vm.activeCurrent,\"closable\":\"\",\"type\":\"card\"},on:{\"tab-click\":_vm.handlePageClick,\"tab-remove\":_vm.handlePageRemove},nativeOn:{\"contextmenu\":function($event){return _vm.handleContextmenu($event)}}},_vm._l((_vm.keepAlivePages),function(page){return _c('el-tab-pane',{key:page.url,attrs:{\"label\":page.title,\"name\":page.url}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-tabs\">\r\n    <!-- <div class=\"tab-box\"> -->\r\n    <wl-contextmenu\r\n      :visible.sync=\"contextmenu_show\"\r\n      :x=\"contextmenu.x\"\r\n      :y=\"contextmenu.y\"\r\n      :menu-list=\"contextmenu_list\"\r\n      @rowClick=\"contextMenuClick\"\r\n    ></wl-contextmenu>\r\n    <el-tabs\r\n      v-show=\"keepAlivePages.length > 0\"\r\n      :value=\"activeCurrent\"\r\n      closable\r\n      type=\"card\"\r\n      @tab-click=\"handlePageClick\"\r\n      @tab-remove=\"handlePageRemove\"\r\n      @contextmenu.native=\"handleContextmenu\"\r\n    >\r\n      <el-tab-pane\r\n        v-for=\"page in keepAlivePages\"\r\n        :key=\"page.url\"\r\n        :label=\"page.title \"\r\n        :name=\"page.url\"\r\n      />\r\n    </el-tabs>\r\n    <!-- </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport { sessionGet } from \"@/util/storage\";\r\n\r\nexport default {\r\n  name: \"page-tabs\",\r\n  data() {\r\n    return {\r\n      contextmenu_show: false, // 显示上下文菜单\r\n      contextmenu: {\r\n        x: 0,\r\n        y: 0, // 坐标\r\n        tag: \"\" // 右键点击的tag标签\r\n      }, // 上下文菜单配置信息\r\n      contextmenu_list: [\r\n        { icon: \"el-icon-back\", title: \"关闭左侧\", value: \"left\" },\r\n        { icon: \"el-icon-right\", title: \"关闭右侧\", value: \"right\" },\r\n        { icon: \"el-icon-close\", title: \"关闭其它\", value: \"other\" },\r\n        { icon: \"el-icon-circle-close\", title: \"关闭全部\", value: \"all\" }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({ keepAlivePages: \"keep_alive\", activeCurrent: \"current\" })\r\n  },\r\n  created() {\r\n    if (this.keepAlivePages.length === 0) {\r\n      let sessionPages = sessionGet(\"keep_alive\");\r\n      this.setKeepPage(sessionPages, false);\r\n    }\r\n    if (!this.activeCurrent) {\r\n      let sessionActive = sessionGet(\"current\") || \"\";\r\n      this.setCurrentPage(sessionActive);\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击页面切换\r\n    handlePageClick(val) {\r\n      this.setCurrentPage(val.name);\r\n      this.$router.push(val.name);\r\n    },\r\n    // 关闭标签页\r\n    handlePageRemove(val) {\r\n      this.closeKeepPage(val);\r\n    },\r\n    // 标签页右键菜单\r\n    handleContextmenu(event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.contextmenu.tag = event.target\r\n        .getAttribute(\"aria-controls\")\r\n        .slice(5);\r\n      this.contextmenu.x = event.clientX;\r\n      this.contextmenu.y = event.clientY;\r\n      this.contextmenu_show = true;\r\n    },\r\n    // 上下文菜单点击事件\r\n    contextMenuClick(command) {\r\n      this.contextmenu_show = false;\r\n\r\n      switch (command.value) {\r\n        case \"left\":\r\n          this.closeLeftKeepPage(this.contextmenu.tag);\r\n          break;\r\n        case \"right\":\r\n          this.closeRightKeepPage(this.contextmenu.tag);\r\n          break;\r\n        case \"other\":\r\n          this.closeOtherKeepPage(this.contextmenu.tag);\r\n          break;\r\n        case \"all\":\r\n          this.closeAllKeepPage();\r\n          break;\r\n        default:\r\n          this.$message.error(\"无效的操作\");\r\n          break;\r\n      }\r\n    },\r\n    // 导入vuex action函数\r\n    ...mapActions(\"page\", [\r\n      \"setCurrentPage\",\r\n      \"closeKeepPage\",\r\n      \"closeRightKeepPage\",\r\n      \"closeLeftKeepPage\",\r\n      \"closeOtherKeepPage\",\r\n      \"closeAllKeepPage\",\r\n      \"setKeepPage\"\r\n    ])\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.page-tabs {\r\n  .el-tabs--card > .el-tabs__header {\r\n    background: #f7f7f7;\r\n    // margin-bottom: 10px;\r\n    margin-bottom: 6px;\r\n    .el-tabs__item.is-active {\r\n      border-bottom-color: $main-base-color;\r\n    }\r\n    .el-tabs__item {\r\n      height: 34px;\r\n      line-height: 34px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0bbcded9&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}