(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c16e555a"],{"1de1":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("sui-form",[n("sui-form-fields",[n("sui-form-field",[n("label",[e._v("选择")]),n("sui-dropdown",{attrs:{placeholder:"选择房屋",selection:"",options:e.options},model:{value:e.singleContract.room_id,callback:function(t){e.$set(e.singleContract,"room_id",t)},expression:"singleContract.room_id"}})],1),n("sui-form-field",[n("label",[e._v("起始")]),n("datepicker",{attrs:{value:e.singleContract.starttime,language:e.lang["zh"]},model:{value:e.singleContract.starttime,callback:function(t){e.$set(e.singleContract,"starttime",t)},expression:"singleContract.starttime"}})],1),n("sui-form-field",[n("label",[e._v("结束时间")]),n("datepicker",{attrs:{value:e.singleContract.endtime,language:e.lang["zh"]},model:{value:e.singleContract.endtime,callback:function(t){e.$set(e.singleContract,"endtime",t)},expression:"singleContract.endtime"}})],1),n("sui-form-field",[n("label",[e._v("出租单位")]),n("sui-input",{attrs:{placeholder:"出租单位",disabled:e.disabled},model:{value:e.singleContract.rentunit,callback:function(t){e.$set(e.singleContract,"rentunit",t)},expression:"singleContract.rentunit"}})],1)],1),n("sui-form-fields",[n("sui-form-field",[n("label",[e._v("手机号")]),n("sui-input",{attrs:{placeholder:"手机号",disabled:e.disabled},model:{value:e.singleContract.mobile,callback:function(t){e.$set(e.singleContract,"mobile",t)},expression:"singleContract.mobile"}})],1),n("sui-form-field",[n("label",[e._v("负责人")]),n("sui-input",{attrs:{placeholder:"负责人",disabled:e.disabled},model:{value:e.singleContract.owner,callback:function(t){e.$set(e.singleContract,"owner",t)},expression:"singleContract.owner"}})],1),n("sui-form-field",[n("label",[e._v("金额")]),n("sui-input",{attrs:{placeholder:"金额",disabled:e.disabled},model:{value:e.singleContract.amt,callback:function(t){e.$set(e.singleContract,"amt",t)},expression:"singleContract.amt"}})],1)],1)],1)],1)},a=[],l=(n("d81d"),n("fa33")),o=n("ee9b"),s=n("0094"),r={name:"rentroom-contract",components:{Datepicker:l["a"]},data:function(){return{lang:o,disabled:!1,type:"Room",options:[],singleContract:{open:!1,title:"createForm",room_id:null,amt:0,owner:"",rentunit:"",starttime:"",endtime:""}}},methods:{updateData:function(){var e=this;"Room"==this.type?(console.log(this.type),Object(s["y"])().then((function(t){t.data.data.map((function(t){e.options.push({text:t.roomname,value:t.room_id})}))}))):Object(s["x"])().then((function(t){e.options=[],t.data.data.map((function(t){e.options.push({text:t.roomname,value:t.room_id})}))}))}},mounted:function(){var e=this;"Room"==this.type?(console.log(this.type),Object(s["y"])().then((function(t){console.log(t.data.data),t.data.data.map((function(t){e.options.push({text:t.roomname,value:t.room_id})}))}))):Object(s["x"])().then((function(t){console.log(t.data.data),t.data.data.map((function(t){e.options.push({text:t.roomname,value:t.room_id})}))}))},created:function(){}},c=r,d=n("2877"),u=Object(d["a"])(c,i,a,!1,null,null,null);t["a"]=u.exports},5320:function(e,t,n){},"6bd7":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("sui-form",[n("sui-form-fields",[n("sui-form-field",[n("label",[e._v("单位名称")]),n("sui-input",{attrs:{placeholder:"单位名称",disabled:e.disabled},model:{value:e.singleUnit.name,callback:function(t){e.$set(e.singleUnit,"name",t)},expression:"singleUnit.name"}})],1),n("sui-form-field",[n("label",[e._v("单位人数")]),n("sui-input",{attrs:{placeholder:"单位人数",disabled:e.disabled},model:{value:e.singleUnit.enumber,callback:function(t){e.$set(e.singleUnit,"enumber",t)},expression:"singleUnit.enumber"}})],1),n("sui-form-field",[n("label",[e._v("正厅")]),n("sui-input",{attrs:{placeholder:"正厅",disabled:e.disabled},model:{value:e.singleUnit.zhengting,callback:function(t){e.$set(e.singleUnit,"zhengting",t)},expression:"singleUnit.zhengting"}})],1),n("sui-form-field",[n("label",[e._v("副厅")]),n("sui-input",{attrs:{placeholder:"副厅",disabled:e.disabled},model:{value:e.singleUnit.futing,callback:function(t){e.$set(e.singleUnit,"futing",t)},expression:"singleUnit.futing"}})],1),n("sui-form-field",[n("label",[e._v("正处")]),n("sui-input",{attrs:{placeholder:"正处",disabled:e.disabled},model:{value:e.singleUnit.zhengchu,callback:function(t){e.$set(e.singleUnit,"zhengchu",t)},expression:"singleUnit.zhengchu"}})],1),n("sui-form-field",[n("label",[e._v("副处")]),n("sui-input",{attrs:{placeholder:"副处",disabled:e.disabled},model:{value:e.singleUnit.fuchu,callback:function(t){e.$set(e.singleUnit,"fuchu",t)},expression:"singleUnit.fuchu"}})],1)],1),n("sui-form-fields",[n("sui-form-field",[n("label",[e._v("单位级别")]),n("sui-input",{attrs:{placeholder:"单位级别",disabled:e.disabled},model:{value:e.singleUnit.level,callback:function(t){e.$set(e.singleUnit,"level",t)},expression:"singleUnit.level"}})],1),n("sui-form-field",[n("label",[e._v("各个级别人数")]),n("sui-input",{attrs:{placeholder:"各个级别人数",disabled:e.disabled},model:{value:e.singleUnit.level_num,callback:function(t){e.$set(e.singleUnit,"level_num",t)},expression:"singleUnit.level_num"}})],1),n("sui-form-field",[n("label",[e._v("正科")]),n("sui-input",{attrs:{placeholder:"正科",disabled:e.disabled},model:{value:e.singleUnit.zhengke,callback:function(t){e.$set(e.singleUnit,"zhengke",t)},expression:"singleUnit.zhengke"}})],1),n("sui-form-field",[n("label",[e._v("副科")]),n("sui-input",{attrs:{placeholder:"副科",disabled:e.disabled},model:{value:e.singleUnit.fuke,callback:function(t){e.$set(e.singleUnit,"fuke",t)},expression:"singleUnit.fuke"}})],1),n("sui-form-field",[n("label",[e._v("科级")]),n("sui-input",{attrs:{placeholder:"科级",disabled:e.disabled},model:{value:e.singleUnit.keji,callback:function(t){e.$set(e.singleUnit,"keji",t)},expression:"singleUnit.keji"}})],1),n("sui-form-field",[n("label",[e._v("各个级别人数")]),n("sui-input",{attrs:{placeholder:"各个级别人数",disabled:e.disabled},model:{value:e.singleUnit.level_num,callback:function(t){e.$set(e.singleUnit,"level_num",t)},expression:"singleUnit.level_num"}})],1)],1)],1)],1)},a=[],l={name:"unit-form",data:function(){return{disabled:!1,singleUnit:{name:"",enumber:"",level:"",level_num:""}}},methods:{}},o=l,s=n("2877"),r=Object(s["a"])(o,i,a,!1,null,null,null);t["a"]=r.exports},7512:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("wl-container",[n("div",[n("div",[n("sui-dimmer",{attrs:{active:e.loading,inverted:""}},[n("sui-loader",{attrs:{content:"Loading..."}})],1)],1),n("div",{staticClass:"filterBiaoDan"},[n("sui-button",{attrs:{content:"创建合同",icon:"edit yellow"},on:{click:e.openContractForm}})],1),n("div",{staticClass:"vue2Table"},[n("vuetable",{ref:"vuetable",attrs:{"api-mode":!1,data:e.localData,fields:e.fields,"sort-order":e.sortOrder,"data-path":"data","pagination-path":""},on:{"vuetable:pagination-data":e.onPaginationData},scopedSlots:e._u([{key:"action",fn:function(t){return n("div",{},[n("sui-button",{attrs:{content:"删除合同"},on:{click:function(n){return e.deleteRoom(t.rowData)}}})],1)}}])}),n("div",{staticClass:"pagination ui basic segment grid"},[n("vuetable-pagination-info",{ref:"paginationInfo"}),n("vuetable-pagination",{ref:"pagination",on:{"vuetable-pagination:change-page":e.onChangePage}})],1)],1),n("dialog-bar",{attrs:{type:"danger",title:"是否要删除",content:e.deleteTarget.text,dangerText:"确认删除"},on:{cancel:function(t){return e.clickCancel()},danger:function(t){return e.clickConfirmDelete()},confirm:function(t){return e.clickConfirmDelete()}},model:{value:e.sendVal,callback:function(t){e.sendVal=t},expression:"sendVal"}}),n("div",[n("sui-modal",{staticClass:"modal2",model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("sui-modal-header",[e._v(e._s(e.modelTitle))]),n("sui-modal-content",{attrs:{image:""}},[n("unit-form",{ref:"formComponent"})],1),n("sui-modal-actions",[n("sui-button",{attrs:{negative:""},nativeOn:{click:function(t){return e.closeModal(t)}}},[e._v(" 取消 ")]),"check"!==e.modalMode?n("sui-button",{attrs:{positive:""},nativeOn:{click:function(t){return e.toggle(t)}}},[e._v(" 提交 ")]):e._e()],1)],1)],1),n("div",[n("sui-modal",{staticClass:"modal2",model:{value:e.contractForm.open,callback:function(t){e.$set(e.contractForm,"open",t)},expression:"contractForm.open"}},[n("sui-modal-header",[e._v("创建合同 ")]),n("sui-modal-content",{attrs:{image:""}},[n("contract-form",{key:e.componentKey,ref:"formComponentContract"})],1),n("sui-modal-actions",[n("sui-button",{attrs:{negative:""},nativeOn:{click:function(t){return e.closeModal(t)}}},[e._v(" 取消 ")]),n("sui-button",{attrs:{positive:""},nativeOn:{click:function(t){return e.createContract(t)}}},[e._v(" 提交 ")])],1)],1)],1)],1)])},a=[],l=(n("d81d"),n("5f53")),o=n("6bd7"),s=n("1de1"),r=n("c3d0"),c=n("3568"),d=n("127e"),u=[{name:"rentowner",title:"出租人",width:"20%",height:"100px",titleClass:"center aligned",dataClass:"center aligned"},{name:"rentunit",title:"出租单位",width:"20%",titleClass:"center aligned",dataClass:"center aligned"},{name:"rent_mobile",title:"手机号",width:"15%",titleClass:"center aligned",dataClass:"center aligned"},{name:"starttime",title:"开始时间",width:"15%",titleClass:"center aligned",dataClass:"center aligned"},{name:"endtime",title:"结束时间",width:"15%",titleClass:"center aligned",dataClass:"center aligned"},{name:"action",title:"操作",titleClass:"center aligned",dataClass:"center aligned",width:"15%"}],m=n("0b2f"),f=n("0094"),g={name:"MyVuetable",components:{"dialog-bar":l["a"],Vuetable:r["a"],VuetablePagination:c["a"],VuetablePaginationInfo:d["a"],UnitForm:o["a"],"contract-form":s["a"]},data:function(){return{sendVal:!1,contractForm:{open:!1,title:"createForm",room_id:"",amt:0,owner:"",rentunit:"",starttime:"",endtime:""},componentKey:1,modelTitle:"",modalMode:"create",open:!1,deleteTarget:"",loading:!0,localData:[],fields:u,sortOrder:[{field:"email",direction:"asc"}]}},methods:{openContractForm:function(){console.log(this.$refs.formComponentContract.type),this.$refs.formComponentContract.type="RentRoom",this.$refs.formComponentContract.updateData(),this.contractForm.open=!0},createContract:function(){var e=this;Object(f["f"])(this.$refs.formComponentContract.singleContract).then((function(){e.$refs.formComponentContract.singleContract={open:!1,title:"createForm",room_id:"",amt:0,owner:"",rentunit:"",starttime:"",endtime:""},e.contractForm.open=!1}))},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){if("timestamp"!==e)return t[e]}))}))},clickConfirmDelete:function(){var e=this;this.loading=!0,Object(f["m"])(this.deleteTarget).then((function(t){e.refreshUnits(),console.log(t)}))},viewSomeThing:function(e,t){this.$refs.formComponent.singleUnit=e,"modify"==t?(this.$refs.formComponent.disabled=!1,this.modelTitle="修改单位",this.modalMode="edit",this.open=!this.open):"check"==t?(this.$refs.formComponent.disabled=!0,this.modalMode="check",this.modelTitle="查看单位",this.open=!this.open):console.log("delete")},exportToExcel:function(){var e=["id","name","enumber","level","level_num"],t=this.formatJson(e,this.localData.data);Object(m["a"])({header:e,data:t,filename:"excel-list",autoWidth:!0,bookType:"xlsx"})},deleteRoom:function(e){this.sendVal=!0,this.deleteTarget={text:"是否要删除"+e.rentowner+"("+e.rentunit+")?",id:e.id}},refreshUnits:function(){var e=this;this.loading=!0,Object(f["v"])().then((function(t){console.log(t),e.loading=!1,e.localData={total:16,per_page:5,current_page:1,last_page:4,next_page_url:"data.data.data?page=2",prev_page_url:null,from:1,to:5,data:t.data.data}}))},createRoomModel:function(){this.modelTitle="创建单位",this.modalMode="create",this.open=!0,this.$refs.formComponent.singleUnit={name:"",enumber:"",level:"",level_num:""}},toggle:function(){this.open=!this.open,this.loading=!0},openRoom:function(e){console.log(e)},submit:function(){console.log(this.filterString)},onPaginationData:function(e){this.$refs.pagination.setPaginationData(e),this.$refs.paginationInfo.setPaginationData(e)},onChangePage:function(e){this.$refs.vuetable.changePage(e)},closeModal:function(){this.open=!1,this.contractForm.open=!1}},created:function(){var e=this;Object(f["v"])().then((function(t){e.loading=!1,e.localData={total:16,per_page:5,current_page:1,last_page:4,next_page_url:"data.data.data?page=2",prev_page_url:null,from:1,to:5,data:t.data.data}}))}},p=g,b=(n("e998"),n("2877")),h=Object(b["a"])(p,i,a,!1,null,null,null);t["default"]=h.exports},e998:function(e,t,n){"use strict";var i=n("5320"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-c16e555a.a81ea206.js.map